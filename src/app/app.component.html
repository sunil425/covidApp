<div class="row margin-class">
  <div class="col-3">
    <button type="button" class="btn btn-outline-secondary">COVID-19 All India Tracker by Sarathlal</button>
  </div>
  <div class="col-3">
    <h5><span class="badge badge-secondary">Choose a State</span></h5>
    <select name="selectedState" id="state" class="form-control" [(ngModel)]="selectedStateCode"
      (change)='onStateSelected()'>
      <option *ngFor="let data of allData" [value]="data.statecode">{{data.state}}</option>
    </select>
  </div>
</div>

<div class="row margin-class">
  <div class="col-3">
    <h5><span class="badge badge-secondary">All India Summary</span></h5>
    <table class="table table-striped">
      <tbody>
        <tr>
          <td>Total Confirmed</td>
          <td>{{totalData?.confirmed | number}}</td>
        </tr>
        <tr>
          <td>Total Active</td>
          <td>{{totalData?.active | number}}</td>
        </tr>
        <tr>
          <td>Total Recovered</td>
          <td>{{totalData?.recovered | number}}</td>
        </tr>
        <tr>
          <td>Total Deaths</td>
          <td>{{totalData?.deaths | number}}</td>
        </tr>
        <tr>
          <td>Newly Confirmed</td>
          <td>{{totalData?.deltaconfirmed | number}}</td>
        </tr>
        <tr>
          <td>Newly Recovered</td>
          <td>{{totalData?.deltarecovered | number}}</td>
        </tr>
        <tr>
          <td>Newly Deaths</td>
          <td>{{totalData?.deltadeaths | number}}</td>
        </tr>
        <tr>
          <td>Migrated to Other</td>
          <td>{{totalData?.migratedother | number}}</td>
        </tr>
        <tr>
          <td>Last Updated Time</td>
          <td>{{totalData?.lastupdatedtime}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="selectedStateCode==undefined">
    <img src="../assets/thediplomat-2020-04-01.png" style="width: 350px;" />
  </div>
  <div class="col-3" *ngIf="selectedStateCode!=undefined">
    <h5><span class="badge badge-secondary">{{stateData?.state}} Summary</span></h5>
    <table class="table table-striped">
      <tbody>
        <tr>
          <td>Total Confirmed</td>
          <td>{{stateData?.confirmed | number}}</td>
        </tr>
        <tr>
          <td>Total Active</td>
          <td>{{stateData?.active | number}}</td>
        </tr>
        <tr>
          <td>Total Recovered</td>
          <td>{{stateData?.recovered | number}}</td>
        </tr>
        <tr>
          <td>Total Deaths</td>
          <td>{{stateData?.deaths | number}}</td>
        </tr>
        <tr>
          <td>Newly Confirmed</td>
          <td>{{stateData?.deltaconfirmed | number}}</td>
        </tr>
        <tr>
          <td>Newly Recovered</td>
          <td>{{stateData?.deltarecovered | number}}</td>
        </tr>
        <tr>
          <td>Newly Deaths</td>
          <td>{{stateData?.deltadeaths | number}}</td>
        </tr>
        <tr>
          <td>Migrated to Other</td>
          <td>{{stateData?.migratedother | number}}</td>
        </tr>
        <tr>
          <td>Last Updated Time</td>
          <td>{{stateData?.lastupdatedtime}}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <div class="col-3" *ngIf="selectedStateCode!=undefined">
    <h5><span class="badge badge-secondary">{{stateData?.state}} District wise Details</span></h5>
    <div>
      <table class="table table-sm">
        <thead>
          <tr>
            <th scope="col">District Name</th>
            <th scope="col">Total Confirmed</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let data of districtData?.districtData">
            <td>{{data.name}}</td>
            <td>{{data.confirmed | number}}</td>
          </tr>
        </tbody>
      </table>
    </div>

  </div>
</div>

<div id="chartContainer" style="height: 370px; width: 100%;"></div>
